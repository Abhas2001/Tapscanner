{"ast":null,"code":"import Webcam from\"react-webcam\";import{useCallback,useEffect}from\"react\";import{useState}from\"react\";import React from\"react\";import'./WebcamCapture.css';import Pdf from\"./Pdf\";import useScreenSize from'./useScreenSize';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FACING_MODE_USER=\"user\";const FACING_MODE_ENVIRONMENT=\"environment\";const videoConstraints={facingMode:FACING_MODE_USER};export const WebcamCapture=props=>{const[facingMode,setFacingMode]=React.useState(FACING_MODE_USER);const[pics,setpics]=useState(0);const screenSize=useScreenSize();console.log(screenSize.width);const handleClick=React.useCallback(()=>{setFacingMode(prevState=>prevState===FACING_MODE_USER?FACING_MODE_ENVIRONMENT:FACING_MODE_USER);},[]);const webcamRef=React.useRef(null);const[val,setval]=useState(false);const[imageUrl,setimageUrl]=useState(\"\");const[items,setitems]=useState([]);const[pdf,setpdf]=useState(false);const[contrast,setcontrast]=useState(false);const[finalimgsrc,setfinalimgsrc]=useState([]);const[save,setsave]=useState();const handleCapture=()=>{const imageSrc=webcamRef.current.getScreenshot();setimageUrl(imageSrc);setval(!val);setpics(pics+1);const updatedImgSrcs=[imageSrc];setfinalimgsrc(updatedImgSrcs);localStorage.setItem('imageUrlss',JSON.stringify(updatedImgSrcs));};useEffect(()=>{const savedImages=JSON.parse(localStorage.getItem('imageUrlss'));setsave(savedImages);},[]);console.log(save);const handleretake=()=>{setval(!val);};const Openimage=()=>{props.setoption(1);};const openContrast=()=>{setcontrast(!contrast);};const handlePdf=()=>{setpdf(true);};props.setimgaddress(imageUrl);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"Container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cam\",children:val==false?/*#__PURE__*/_jsx(Webcam,{audio:false,screenshotFormat:\"image/jpeg\",width:screenSize.width>640?520:320,ref:webcamRef,videoConstraints:{...videoConstraints,facingMode}}):/*#__PURE__*/_jsxs(\"div\",{className:\"imgUrl\",children:[\" \",/*#__PURE__*/_jsx(\"img\",{className:\"captured\",src:imageUrl})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"capture\",children:[val==false?/*#__PURE__*/_jsxs(\"div\",{className:\"candr\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleClick,children:/*#__PURE__*/_jsx(\"img\",{className:\"rear\",src:\"https://cdn.vectorstock.com/i/1000x1000/53/93/camera-rotate-icon-vector-17385393.webp\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCapture,className:\"captur\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://static.vecteezy.com/system/resources/previews/007/522/948/original/camera-capture-icon-in-line-circle-button-vector.jpg\"})})]}):/*#__PURE__*/_jsx(\"div\",{className:\"wid\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleretake,className:\"retake\",children:\"Keep Scanning\"})}),/*#__PURE__*/_jsxs(\"button\",{onClick:Openimage,children:[/*#__PURE__*/_jsx(\"img\",{className:\"image\",src:save}),/*#__PURE__*/_jsx(\"div\",{className:\"pics\",children:pics})]})]})]})});};","map":{"version":3,"names":["Webcam","useCallback","useEffect","useState","React","Pdf","useScreenSize","jsx","_jsx","jsxs","_jsxs","FACING_MODE_USER","FACING_MODE_ENVIRONMENT","videoConstraints","facingMode","WebcamCapture","props","setFacingMode","pics","setpics","screenSize","console","log","width","handleClick","prevState","webcamRef","useRef","val","setval","imageUrl","setimageUrl","items","setitems","pdf","setpdf","contrast","setcontrast","finalimgsrc","setfinalimgsrc","save","setsave","handleCapture","imageSrc","current","getScreenshot","updatedImgSrcs","localStorage","setItem","JSON","stringify","savedImages","parse","getItem","handleretake","Openimage","setoption","openContrast","handlePdf","setimgaddress","children","className","audio","screenshotFormat","ref","src","onClick"],"sources":["C:/Users/anjal/Desktop/naya/my-app/src/WebcamCapture.js"],"sourcesContent":["import Webcam from \"react-webcam\";\r\nimport { useCallback, useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport React from \"react\";\r\nimport './WebcamCapture.css'\r\nimport Pdf from \"./Pdf\";\r\nimport useScreenSize from './useScreenSize';\r\n\r\n\r\nconst FACING_MODE_USER = \"user\";\r\nconst FACING_MODE_ENVIRONMENT = \"environment\";\r\n\r\nconst videoConstraints = {\r\n  facingMode: FACING_MODE_USER\r\n};\r\n\r\nexport const WebcamCapture = (props) => {\r\n  const [facingMode, setFacingMode] = React.useState(FACING_MODE_USER);\r\n  const [pics , setpics] = useState(0);\r\n \r\n  const screenSize = useScreenSize();\r\n  console.log(screenSize.width);\r\n    \r\n  const handleClick = React.useCallback(() => {\r\n    setFacingMode(\r\n      prevState =>\r\n        prevState === FACING_MODE_USER\r\n          ? FACING_MODE_ENVIRONMENT\r\n          : FACING_MODE_USER\r\n    );\r\n  }, []);\r\n  \r\n  const webcamRef = React.useRef(null);\r\n\r\n  const [val,setval] = useState(false);\r\n  const[imageUrl,setimageUrl]=useState(\"\");\r\n  const[items,setitems]=useState([]);\r\n  const[pdf,setpdf]=useState(false);\r\n  const[contrast,setcontrast]=useState(false);\r\n   \r\n  const [finalimgsrc, setfinalimgsrc] = useState([]);\r\n  const[save,setsave] = useState();\r\n   \r\n  const handleCapture = () =>{\r\n\r\n    const imageSrc = webcamRef.current.getScreenshot();\r\n    setimageUrl(imageSrc);\r\n     setval(!val);\r\n     setpics(pics+1);\r\n     const updatedImgSrcs = [ imageSrc];\r\n     setfinalimgsrc(updatedImgSrcs);\r\n   \r\n     localStorage.setItem('imageUrlss', JSON.stringify(updatedImgSrcs));\r\n     \r\n  }\r\n\r\n  useEffect(() => {\r\n    const savedImages = JSON.parse(localStorage.getItem('imageUrlss'));\r\n      setsave(savedImages)\r\n   \r\n  }, []);\r\n\r\n \r\n  console.log(save);\r\n  const handleretake = () =>{\r\n    setval(!val);\r\n  }\r\n  const Openimage = () =>{\r\n    props.setoption(1);\r\n  }\r\n   const openContrast = () =>{\r\n    setcontrast(!contrast);\r\n   }\r\n\r\n   const handlePdf = () => {\r\n      setpdf(true);\r\n   }\r\n   props.setimgaddress(imageUrl);\r\n  return (\r\n\r\n    <div>\r\n    <div className=\"Container\">\r\n\r\n   \r\n \r\n\r\n<div className=\"cam\">\r\n    { val==false?\r\n\r\n      <Webcam\r\n        audio={false}\r\n        screenshotFormat=\"image/jpeg\"\r\n        width={screenSize.width>640?520:320}\r\n       \r\n        ref={webcamRef}\r\n        videoConstraints={{\r\n          ...videoConstraints,\r\n          facingMode\r\n        }}\r\n      />\r\n     \r\n\r\n\r\n      :\r\n      <div className=\"imgUrl\"> <img className=\"captured\"  src={imageUrl}/></div>\r\n      \r\n}   \r\n</div>    \r\n\r\n<div className=\"capture\">\r\n  { val == false ?\r\n<div className=\"candr\">\r\n<button onClick={handleClick}><img className=\"rear\" src=\"https://cdn.vectorstock.com/i/1000x1000/53/93/camera-rotate-icon-vector-17385393.webp\"/></button>\r\n\r\n<button onClick={handleCapture} className=\"captur\"><img src=\"https://static.vecteezy.com/system/resources/previews/007/522/948/original/camera-capture-icon-in-line-circle-button-vector.jpg\"/></button>\r\n </div>\r\n :\r\n <div className=\"wid\">\r\n\r\n  <button onClick={handleretake} className=\"retake\">Keep Scanning</button>\r\n </div>\r\n\r\n  }\r\n<button onClick={Openimage}>\r\n  <img className=\"image\" src={save}/>\r\n  <div className=\"pics\">{pics}</div>\r\n\r\n</button>\r\n</div> \r\n\r\n    </div>\r\n\r\n\r\n  \r\n\r\n    </div>\r\n  );\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}